<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Road Trip Pro - Ultimate Design</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Rubik', sans-serif;
            -webkit-tap-highlight-color: transparent;
            background: #f1f5f9;
            color: #334155;
            overscroll-behavior-y: none;
        }
        
        html { scroll-behavior: smooth; }

        /* ×× ×™××¦×™×™×ª ×¨×›×‘ ×—×œ×§×” */
        @keyframes carFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-2px) rotate(-1deg); }
        }

        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.95) translateY(10px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .animate-card {
            animation: fadeInScale 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            opacity: 0; 
        }
        
        /* ××™×§×•× ×”×¨×›×‘ ×¢×œ ×”×¦×™×¨ */
        .car-marker {
            position: absolute;
            right: 17px; /* ××¨×›×•×– ×¢×œ ×”×¤×¡ */
            z-index: 40;
            transition: top 1s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;
            pointer-events: none;
            opacity: 0; 
            transform: translate(50%, -50%); /* ××¨×›×•×– */
            filter: drop-shadow(0 4px 6px rgba(37, 99, 235, 0.3));
        }
        
        .car-inner {
            background: #2563eb;
            color: white;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 0 0 2px #bfdbfe;
            animation: carFloat 3s infinite ease-in-out;
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .btn-active:active { transform: scale(0.97); }
        
        /* Glass Styles */
        .glass-nav {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(226, 232, 240, 0.8);
        }

        /* Dashed Line for connector */
        .connector-line {
            position: absolute;
            right: 32px; /* ××™×§×•× ×”×§×• */
            top: 0;
            bottom: 0;
            width: 2px;
            background: #cbd5e1; /* slate-300 */
            z-index: 0;
        }

        /* Timeline Dot styles */
        .timeline-dot-container {
            position: relative;
            z-index: 10;
            margin-right: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 34px;
        }

        .timeline-dot {
            width: 16px;
            height: 16px;
            background: white;
            border: 3px solid #cbd5e1;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .timeline-dot.active {
            border-color: #3b82f6;
            background: #3b82f6;
            box-shadow: 0 0 0 4px #dbeafe;
            transform: scale(1.1);
        }
    </style>
</head>
<body class="pb-32 selection:bg-blue-100 selection:text-blue-900 overflow-x-hidden">

    <!-- Header -->
    <div class="fixed top-0 left-0 right-0 glass-nav px-4 py-3 z-50 transition-all duration-300">
        <div class="max-w-md mx-auto flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="bg-blue-600 text-white p-2 rounded-xl shadow-md shadow-blue-200">
                    <i data-lucide="map-pin" class="w-5 h-5"></i>
                </div>
                <div>
                    <h1 class="text-lg font-black tracking-tight text-slate-800 leading-none">Road Trip</h1>
                    <div class="flex items-center gap-1.5 mt-0.5">
                        <p class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">LA <span class="text-blue-400">â”</span> SF</p>
                        <span id="liveIndicator" class="hidden flex h-1.5 w-1.5 relative">
                            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"></span>
                            <span class="relative inline-flex rounded-full h-1.5 w-1.5 bg-emerald-500"></span>
                        </span>
                    </div>
                </div>
            </div>
            
            <button id="actionBtn" onclick="handleMainButton()" class="btn-active bg-slate-900 hover:bg-slate-800 text-white px-4 py-2.5 rounded-full text-xs font-bold flex items-center gap-2 shadow-lg shadow-slate-200 border border-slate-700 transition-all group">
                <i id="btnIcon" data-lucide="navigation" class="w-3.5 h-3.5 group-hover:text-emerald-400 transition-colors"></i>
                <span id="btnText">×”×¤×¢×œ GPS</span>
            </button>
        </div>
        
        <div id="statusMsg" class="hidden text-center mt-2 text-[10px] font-bold text-orange-600 bg-orange-50/90 py-1.5 rounded-lg border border-orange-100 max-w-xs mx-auto animate-pulse backdrop-blur-sm shadow-sm">
            <i data-lucide="satellite" class="w-3 h-3 inline mr-1"></i> ×××ª×¨ ××™×§×•× ×œ×•×•×™×™× ×™...
        </div>
    </div>

    <!-- Main Container -->
    <div class="max-w-md mx-auto px-4 pt-24 relative min-h-screen">
        
        <!-- Continuous Line Background (Static) -->
        <div class="connector-line"></div>

        <!-- Itinerary Items -->
        <div id="itinerary-container" class="space-y-0 pb-10"></div>

    </div>

    <!-- Main Modal -->
    <div id="mainModal" class="fixed inset-0 z-50 hidden flex items-end justify-center sm:items-center p-0 sm:p-4">
        <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-md transition-opacity duration-300" onclick="closeModal()"></div>
        <div class="bg-white w-full max-w-md rounded-t-[32px] sm:rounded-[32px] shadow-2xl animate-[slideIn_0.35s_cubic-bezier(0.16,1,0.3,1)] relative z-10 max-h-[92vh] flex flex-col overflow-hidden">
            <div id="modalContent" class="flex flex-col h-full overflow-y-auto no-scrollbar bg-slate-50"></div>
        </div>
    </div>

    <!-- Gas Modal -->
    <div id="gasModal" class="fixed inset-0 z-50 hidden flex items-end justify-center sm:items-center p-0 sm:p-4">
        <div class="absolute inset-0 bg-slate-900/40 backdrop-blur-sm" onclick="closeGasModal()"></div>
        <div class="bg-white w-full max-w-md rounded-t-[28px] sm:rounded-[28px] shadow-2xl relative z-10 max-h-[85vh] flex flex-col transition-transform">
            <div class="p-5 border-b border-slate-100 flex justify-between items-center bg-white rounded-t-[28px] sticky top-0 z-20">
                <div>
                    <h2 class="text-lg font-black text-slate-800 flex items-center gap-2">
                        <div class="bg-orange-50 p-2 rounded-xl text-orange-500"><i data-lucide="fuel" class="w-5 h-5"></i></div>
                        ×“×œ×§ ×–×•×œ ×‘×“×¨×š
                    </h2>
                    <p class="text-[11px] text-slate-400 font-bold mt-0.5 mr-1">×”×©×•×•××ª ××—×™×¨×™× ×œ××§×˜×¢ ×”× ×•×›×—×™</p>
                </div>
                <button onclick="closeGasModal()" class="bg-slate-50 text-slate-400 p-2.5 rounded-full hover:bg-slate-100 transition"><i data-lucide="x" class="w-5 h-5"></i></button>
            </div>
            <div id="gasModalContent" class="p-5 space-y-3 overflow-y-auto bg-slate-50 no-scrollbar pb-10"></div>
        </div>
    </div>

    <script>
        // --- DATA CONFIG ---
        
        const GAS_STATIONS = {
            'start': [ { name: "ARCO Oxnard", address: "1935 N Oxnard Blvd", price: "$4.39", note: "×–×•×œ! ××–×•××Ÿ/Debit" }, { name: "United Oil", address: "2888 E Thousand Oaks Blvd", price: "$4.45", note: "×¢×œ ×”×“×¨×š" } ],
            'sb': [ { name: "Fuel Depot", address: "5767 Calle Real", price: "$4.55", note: "×‘×™×¦×™××” ××¡× ×˜×” ×‘×¨×‘×¨×”" }, { name: "ARCO Buellton", address: "175 E Hwy 246", price: "$4.35", note: "×‘×›× ×™×¡×” ×œ×¡×•×œ×‘× ×’" } ],
            'solvang': [ { name: "ARCO Pismo", address: "898 Oak Park Blvd", price: "$4.29", note: "×”×›×™ ××•××œ×¥!" }, { name: "Speedway", address: "1350 Grand Ave", price: "$4.35", note: "" } ],
            'gas': [ { name: "Morro Bay Fuel", address: "1590 Main St", price: "$4.45", note: "×‘×ª×•×š ×”×¢×™×¨" }, { name: "Sinclair", address: "940 Morro Bay Blvd", price: "$4.49", note: "×“×™× ×•×–××•×¨ ×™×¨×•×§" } ],
            'morro': [ { name: "Chevron Cambria", address: "2194 Main St", price: "$5.89", note: "×™×§×¨ ×××•×“" }, { name: "××–×”×¨×”", address: "××™×Ÿ ×“×œ×§ ×–×•×œ ××›××Ÿ!", price: "---", note: "×ª×“×œ×§×• ×‘××•×¨×• ×‘×™×™" } ],
            'seals': [ { name: "Ragged Point", address: "19019 CA-1", price: "$7.99", note: "×—×™×¨×•× ×‘×œ×‘×“" }, { name: "Gorda Gas", address: "Big Sur", price: "$7.50", note: "×—×™×¨×•× ×‘×œ×‘×“" } ],
            'monterey': [ { name: "Safeway Fuel", address: "104 Canyon Del Rey", price: "$4.25", note: "×”×›×™ ×–×•×œ ×‘××–×•×¨ (Del Rey Oaks)" }, { name: "Valero", address: "2200 N Fremont St", price: "$4.39", note: "××—×™×¨ ×˜×•×‘" } ],
            'mcway': [ { name: "××–×”×¨×”", address: "××™×Ÿ ×ª×—× ×•×ª ×‘×‘×™×’ ×¡×¨", price: "---", note: "××œ××• ×‘××•× ×˜×¨×™×™!" } ],
            'bixby': [ { name: "Shell Carmel", address: "3745 Via Nona Marie", price: "$4.79", note: "×‘×›× ×™×¡×” ×œ×›×¨××œ" } ],
            'carmel': [ { name: "Costco Gas", address: "Half Moon Bay", price: "$4.15", note: "×œ×—×‘×¨×™× ×‘×œ×‘×“" }, { name: "Chevron Pacifica", address: "500 Linda Mar Blvd", price: "$4.65", note: "×œ×¤× ×™ SF" } ]
        };

        const ITINERARY = [
            // --- DAY 1 ---
            {
                id: 'start',
                title: '×™×¦×™××”: ×œ×•×¡ ×× ×’\'×œ×¡',
                originalTime: '09:00',
                displayTime: '09:00',
                subTitle: '× ×§×•×“×ª ×”×ª×—×œ×”',
                type: 'start',
                icon: 'car',
                coords: { lat: 34.0528, lng: -118.2556 },
                parking: { name: '×œ×•×‘×™ ×”××œ×•×Ÿ', coords: { lat: 34.0528, lng: -118.2556 }, cost: '---' },
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ3p6yTIcIs92AnFZfplUcSVPCaXzjjpc_hdRUxa4vbcA&s=10",
                longDesc: `<p class="mb-2">×™×•×¦××™× ×œ×“×¨×š! ×•×•×“××• ×©××¨×–×ª× ×”×›×œ ×•×©×”×¨×›×‘ ××•×›×Ÿ.</p>`,
                walkingRoute: null
            },
            {
                id: 'sb',
                title: '×¡× ×˜×” ×‘×¨×‘×¨×”',
                subTitle: 'Stearns Wharf',
                originalTime: '11:00',
                displayTime: '11:00',
                type: 'stop',
                icon: 'anchor',
                coords: { lat: 34.4123, lng: -119.6876 }, 
                parking: { name: 'City Lot #1', address: '23 E Cabrillo Blvd', coords: { lat: 34.4137, lng: -119.6905 }, cost: '×—×™× × 75 ×“×§×³ ×¨××©×•× ×•×ª' },
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSB1m_VYizll6MT567ggSruv9ImG91t4HKdwqXT1wxLWA&s=10",
                longDesc: `<p class="mb-2"><strong>×”×¨×™×‘×™×™×¨×” ×”×××¨×™×§××™×ª.</strong> ×¢×™×¨ ×—×•×£ ×™×¤×”×¤×™×™×” ×¢× ××¨×›×™×˜×§×˜×•×¨×” ×¡×¤×¨×“×™×ª.</p>
                    <div class="bg-blue-50 p-4 rounded-2xl mb-4 border border-blue-100/50">
                        <h4 class="font-bold text-blue-700 text-xs mb-2 uppercase tracking-wide">××” ×¢×•×©×™× ×›××Ÿ?</h4>
                        <ul class="list-disc list-inside space-y-1.5 text-xs text-slate-600 font-medium">
                            <li>×”×œ×™×›×” ×¢×œ ×”××–×— ×”×”×™×¡×˜×•×¨×™ (Stearns Wharf).</li>
                            <li>×‘×™×§×•×¨ ×‘×‘×™×ª ×”××©×¤×˜ (×ª×¦×¤×™×ª ×—×™× ×).</li>
                            <li>×¡×™×‘×•×‘ ×§×¦×¨ ×‘×¨×—×•×‘ ×”××“×™× ×” (State Street).</li>
                        </ul>
                    </div>`,
                walkingRoute: "https://www.google.com/maps/dir/Stearns+Wharf/State+St,+Santa+Barbara"
            },
            {
                id: 'solvang',
                title: '×¡×•×œ×‘× ×’',
                subTitle: '×”×¢×™×™×¨×” ×”×“× ×™×ª',
                originalTime: '12:30',
                displayTime: '12:30',
                type: 'stop',
                icon: 'coffee',
                coords: { lat: 34.5958, lng: -120.1376 },
                parking: { name: 'Public Parking', address: '1616 Oak St', coords: { lat: 34.5945, lng: -120.1408 }, cost: '×—×™× ×' },
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS2NgP8pvIZShu5F_1XhFvbqpMI-fDt3sSXwxNpXw4IHg&s=10",
                longDesc: `<p class="mb-2"><strong>×“× ××¨×§ ×”×§×˜× ×”.</strong> ×”×›×œ × ×¨××” ×›××• ×‘××’×“×•×ª - ×˜×—× ×•×ª ×¨×•×— ×•×××¤×™×•×ª.</p>
                    <div class="bg-orange-50 p-4 rounded-2xl mb-4 border border-orange-100/50">
                        <h4 class="font-bold text-orange-700 text-xs mb-1 uppercase tracking-wide">×—×•×‘×” ×œ×˜×¢×•×:</h4>
                        <p class="text-xs text-slate-600 font-medium">Aebleskiver (×¡×•×¤×’× ×™×•×ª ×“× ×™×•×ª ×¢×’×•×œ×•×ª) ×¢× ×¨×™×‘×” ×•××‘×§×ª ×¡×•×›×¨.</p>
                    </div>`,
                walkingRoute: "https://www.google.com/maps/dir/Solvang+Visitor+Center/The+Little+Mermaid+Fountain"
            },
            {
                id: 'gas',
                title: '×ª×“×œ×•×§ ×—×•×‘×”!',
                subTitle: '×¡×Ÿ ×œ×•××™×¡ ××•×‘×™×¡×¤×•',
                originalTime: '14:30',
                displayTime: '14:30',
                type: 'gas',
                icon: 'fuel',
                coords: { lat: 35.2675, lng: -120.6481 },
                parking: { name: 'Conserv Fuel', address: '2211 Broad St', coords: { lat: 35.2675, lng: -120.6481 }, cost: '××—×™×¨ ×”×•×’×Ÿ' },
                isEmoji: true, emoji: "â›½", bgGradient: "from-orange-400 to-red-500",
                longDesc: `<p class="font-bold text-red-600 mb-1">×¢×¦×™×¨×” ×§×¨×™×˜×™×ª!</p><p class="text-sm text-slate-600">×–×” ×”××§×•× ×”××—×¨×•×Ÿ ×œ×ª×“×œ×§ ×‘××—×™×¨ ×©×¤×•×™ ×œ×¤× ×™ ×©× ×›× ×¡×™× ×œ×›×‘×™×© ×”×—×•×£ ×”×¤×¨××™.</p>`,
                walkingRoute: null
            },
            {
                id: 'morro',
                title: '××•×¨×• ×‘×™×™',
                subTitle: 'Morro Rock',
                originalTime: '15:00',
                displayTime: '15:00',
                type: 'stop',
                icon: 'camera',
                coords: { lat: 35.3712, lng: -120.8667 },
                parking: { name: 'Coleman Park', address: 'Coleman Dr', coords: { lat: 35.3705, lng: -120.8650 }, cost: '×—×™× ×' },
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQNR-4naNKMPmIiq99YbgSSK0VvTVhUrTG-W_7YMbSYOg&s=10",
                longDesc: `<p class="text-sm text-slate-600 leading-relaxed">×¡×œ×¢ ×’×¢×©×™ ×¢×¦×•× ×©×‘×•×§×¢ ××”×™×. ×—×¤×©×• ×œ×•×˜×¨×•×ª ×™× (Sea Otters) ×¦×¤×•×ª ×¢×œ ×”×’×‘ ×‘××™× ×”×©×§×˜×™× ×©×œ ×”××¤×¨×¥.</p>`,
                walkingRoute: "https://www.google.com/maps/dir/Coleman+Park/Morro+Rock"
            },
            {
                id: 'seals',
                title: '×¤×™×œ×™ ×”×™×',
                subTitle: 'San Simeon',
                originalTime: '16:15',
                displayTime: '16:15',
                type: 'stop',
                icon: 'fish',
                coords: { lat: 35.6630, lng: -121.2575 },
                parking: { name: 'Vista Point', address: 'Hwy 1', coords: { lat: 35.6630, lng: -121.2575 }, cost: '×—×™× ×' },
                isEmoji: true, emoji: "ğŸ¦­", bgGradient: "from-blue-400 to-cyan-600",
                longDesc: `<p class="text-sm text-slate-600 leading-relaxed"><strong>×ª×•×¤×¢×ª ×˜×‘×¢ ××“×”×™××”.</strong> ××œ×¤×™ ×¤×™×œ×™ ×™× ×©×•×›×‘×™× ×¢×œ ×”×—×•×£. ×”×¨×¢×©, ×”×¨×™×— ×•×”×’×•×“×œ ×©×œ×”× ×–×• ×—×•×•×™×” ×©×œ× ×©×•×›×—×™×.</p>`,
                walkingRoute: "https://www.google.com/maps/dir/Elephant+Seal+Vista+Point/Elephant+Seal+Viewing+Walkway"
            },
            {
                id: 'monterey',
                title: '×œ×™× ×” ×‘××•× ×˜×¨×™×™',
                subTitle: 'Victorian Inn',
                originalTime: '18:30',
                displayTime: '18:30',
                type: 'hotel',
                icon: 'bed',
                coords: { lat: 36.6128, lng: -121.9001 },
                parking: { name: '×—× ×™×•×Ÿ ×”××œ×•×Ÿ', address: '487 Foam St', coords: { lat: 36.6128, lng: -121.9001 }, cost: '×œ××•×¨×—×™×' },
                isEmoji: true, emoji: "ğŸ¨", bgGradient: "from-indigo-500 to-purple-600",
                longDesc: `<p class="text-sm text-slate-600 leading-relaxed">××œ×•×Ÿ ×‘×¡×’× ×•×Ÿ ×•×™×§×˜×•×¨×™×× ×™ ×‘××™×§×•× ××•×©×œ× ×œ×™×“ Cannery Row. ×¦××• ×œ×¡×™×‘×•×‘ ×¢×¨×‘ ×‘×¨×—×•×‘ ×”××¤×¢×œ×™× ×”××©×•×—×–×¨.</p>`,
                walkingRoute: "https://www.google.com/maps/dir/Victorian+Inn/Cannery+Row"
            },
            
            // --- DAY 2 ---
            { id: 'day2', title: '×™×•× ×©× ×™ - ×”×ª×™×§×•×Ÿ ×”×’×“×•×œ', type: 'divider' },
            
            {
                id: 'mcway',
                title: '××¤×œ×™ ××§×•×•××™',
                subTitle: 'Julia Pfeiffer Burns',
                originalTime: '09:45',
                displayTime: '09:45',
                type: 'stop',
                icon: 'camera',
                coords: { lat: 36.1580, lng: -121.6695 },
                parking: { name: 'McWay Falls Trailhead', address: 'Hwy 1', coords: { lat: 36.1585, lng: -121.6698 }, cost: '$10 ××• ×—×™× × ×‘×›×‘×™×©' },
                image: "https://offloadmedia.feverup.com/secretlosangeles.com/wp-content/uploads/2025/06/13073447/McWay-Falls.jpg",
                longDesc: `
                    <p class="mb-4 text-xs font-bold text-white bg-teal-600 px-3 py-1.5 rounded-full inline-block shadow-sm">ğŸŒ² × ×¡×™×¢×” ×“×¨×•××” ××”××œ×•×Ÿ</p>
                    <p class="mb-3 text-sm text-slate-700"><strong>××—×“ ×”××§×•××•×ª ×”×™×¤×™× ×‘×¢×•×œ×.</strong> ××¤×œ ×©× ×•×¤×œ ××’×•×‘×” 25 ××˜×¨ ×™×©×™×¨×•×ª ×œ×—×•×£ ×˜×•×¨×§×™×– ×‘×ª×•×œ×™.</p>
                    <div class="bg-teal-50 p-4 rounded-2xl mb-3 border border-teal-100/60">
                        <h4 class="font-bold text-teal-800 text-xs mb-2 uppercase tracking-wide">×”×•×¨××•×ª ×”×’×¢×”:</h4>
                        <ul class="list-disc list-inside space-y-1.5 text-xs text-slate-600 font-medium">
                            <li>×—×•× ×™× ×‘×–×”×™×¨×•×ª ×‘×¦×“ ×”×›×‘×™×© ××• ×‘×—× ×™×•×Ÿ.</li>
                            <li>×”×•×œ×›×™× ×‘×× ×”×¨×” ××ª×—×ª ×œ×›×‘×™×© ×œ×ª×¦×¤×™×ª (10 ×“×§×•×ª).</li>
                            <li><strong>×©×™××• ×œ×‘:</strong> ××™ ××¤×©×¨ ×œ×¨×“×ª ×œ×—×•×£! ×¨×§ ×ª×¦×¤×™×ª.</li>
                        </ul>
                    </div>`,
                walkingRoute: "https://www.google.com/maps/dir/McWay+Falls+Parking/McWay+Falls+Viewpoint"
            },
            {
                id: 'bixby',
                title: '×’×©×¨ ×‘×™×§×¡×‘×™',
                subTitle: '×‘×—×–×¨×” ×¦×¤×•× ×”',
                originalTime: '11:30',
                displayTime: '11:30',
                type: 'stop',
                icon: 'camera',
                coords: { lat: 36.3714, lng: -121.9017 },
                parking: { name: '××¤×¨×¥ ×¦×¤×•× ×™', address: 'Hwy 1', coords: { lat: 36.3725, lng: -121.9030 }, cost: '×—×™× ×' },
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ2zJIDl1fe1ZGo7UfUrx2iHn1dYXzNNPtTfggtnUme6A&s=10",
                longDesc: `<p class="text-sm text-slate-600 leading-relaxed"><strong>×”××™×™×§×•×Ÿ ×©×œ ×›×‘×™×© 1.</strong> ×”×’×©×¨ ×”××¤×•×¨×¡× ×‘×™×•×ª×¨. ×¢×¦×¨×• ×‘××¤×¨×¥ ×”×¢×¤×¨ ×‘×¦×“ ×”×¦×¤×•× ×™ ×©×œ ×”×’×©×¨ (×œ×›×™×•×•×Ÿ ××•× ×˜×¨×™×™) ×œ×ª××•× ×” ×”××•×©×œ××ª.</p>`,
                walkingRoute: null
            },
            {
                id: 'carmel',
                title: '×›×¨××œ',
                subTitle: '××¨×•×—×ª ×¦×”×¨×™×™×',
                originalTime: '12:15',
                displayTime: '12:15',
                type: 'stop',
                icon: 'coffee',
                coords: { lat: 36.5552, lng: -121.9233 },
                parking: { name: 'Vista Lobos', address: '3rd Ave & Torres St', coords: { lat: 36.5560, lng: -121.9215 }, cost: '×—×™× ×' },
                image: "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0a/66/e2/75/20160221-091502-1-largejpg.jpg?w=600&h=-1&s=1",
                longDesc: `
                    <p class="mb-2 text-sm text-slate-600"><strong>×¢×™×™×¨×ª ×”××’×“×•×ª.</strong> ×–××Ÿ ××¦×•×™×Ÿ ×œ××¨×•×—×ª ×¦×”×¨×™×™× ×•×¡×™×‘×•×‘ ×‘×—×•×£ ×”×œ×‘×Ÿ.</p>
                    <div class="bg-indigo-50 p-4 rounded-2xl mb-3 border border-indigo-100/50">
                        <h4 class="font-bold text-indigo-700 text-xs mb-1 uppercase tracking-wide">×˜×™×¤ ×©×œ ××§×•××™×™×:</h4>
                        <p class="text-xs text-slate-600 font-medium">×—× ×• ××ª ×”×¨×›×‘ ×‘×—×™× × ×‘×—× ×™×•×Ÿ Vista Lobos ×•×¨×“×• ×‘×¨×’×œ ××ª Ocean Avenue ×¢×“ ×œ×™×.</p>
                    </div>`,
                walkingRoute: "https://www.google.com/maps/dir/Ocean+Ave,+Carmel/Carmel+Beach"
            },
            {
                id: 'sf',
                title: '×¡×™×•×: ×¡×Ÿ ×¤×¨× ×¡×™×¡×§×•',
                subTitle: 'Fisherman\'s Wharf',
                originalTime: '17:00',
                displayTime: '17:00',
                type: 'stop',
                icon: 'anchor',
                coords: { lat: 37.8080, lng: -122.4177 },
                parking: { name: '×—× ×™×•×Ÿ ×”××œ×•×Ÿ', coords: { lat: 37.8080, lng: -122.4177 }, cost: '$50-$70 ×œ×œ×™×œ×”' },
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcThRZsv_ufgRrqGw4E1tFyxdTSwAQoAxAfQGk5jrZAlaTvcZzTjQ3fM_-J5&s=10",
                longDesc: `<p class="text-sm text-slate-600 leading-relaxed"><strong>×”×’×¢×ª× ×œ×™×¢×“!</strong> ×¨×¦×™×£ ×”×“×™×™×’×™×. ×œ×›×• ×œ×¨××•×ª ××ª ××¨×™×•×ª ×”×™× ×‘-Pier 39 ×•×œ××›×•×œ ××¨×§ ×¦×“×¤×•×ª ×‘×œ×—× ×—××•×¥ ×‘-Boudin.</p>`,
                walkingRoute: "https://www.google.com/maps/dir/Fisherman's+Wharf/Pier+39"
            }
        ];

        // --- UTILS ---
        
        function deg2rad(deg) { return deg * (Math.PI/180); }
        function getDistance(lat1, lon1, lat2, lon2) {
            const R = 6371; 
            const dLat = deg2rad(lat2 - lat1);
            const dLon = deg2rad(lon2 - lon1);
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) + Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * Math.sin(dLon/2) * Math.sin(dLon/2);
            return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
        }

        function getDriveTime(distKm, speedKmh = 75) {
            const minutes = Math.round((distKm * 1.3 / speedKmh) * 60);
            const hrs = Math.floor(minutes / 60);
            const mins = minutes % 60;
            if (hrs > 0) return `${hrs} ×©×³ ${mins} ×“×§×³`;
            return `${mins} ×“×§×³`;
        }

        // --- STATE ---
        let isTracking = false;
        let userLocation = null;
        let lastCoords = null; 

        // --- CORE LOGIC ---

        function initItinerary() {
            const container = document.getElementById('itinerary-container');
            container.innerHTML = '';
            
            // Set start coordinates based on first item
            lastCoords = ITINERARY[0].coords;

            ITINERARY.forEach((stop, index) => {
                
                // --- DIVIDER LOGIC (New Day) ---
                if (stop.type === 'divider') {
                    // We don't change coords here, but we render the divider
                    container.innerHTML += `
                        <div class="relative z-10 my-10 flex items-center justify-center">
                            <div class="bg-slate-800 text-white px-5 py-2 rounded-full text-xs font-bold shadow-lg shadow-slate-300 border-[3px] border-slate-100 flex items-center gap-2 relative">
                                <div class="absolute inset-0 rounded-full border border-slate-600"></div>
                                <i data-lucide="calendar" class="w-3.5 h-3.5 text-blue-300"></i> ${stop.title}
                            </div>
                        </div>`;
                    return; 
                }

                // --- DRIVE TIME CALCULATION ---
                let driveTimeHtml = '';
                let distance = 0;
                let isMorningDrive = false;

                // If not the first stop, calculate distance from LAST processed stop
                if (index > 0) {
                    distance = getDistance(lastCoords.lat, lastCoords.lng, stop.coords.lat, stop.coords.lng);
                    
                    // Detect morning drive (if previous item was divider)
                    if (ITINERARY[index-1].type === 'divider') {
                        isMorningDrive = true;
                    }

                    const speed = (stop.id === 'mcway' || stop.id === 'bixby') ? 50 : 75; // Slower on Big Sur
                    const timeStr = getDriveTime(distance, speed);
                    
                    // Style for the "Pill" connector
                    const pillClass = isMorningDrive 
                        ? "bg-teal-50 text-teal-700 border-teal-200" 
                        : "bg-white text-slate-500 border-slate-200";
                    
                    const icon = isMorningDrive ? 'coffee' : 'car';
                    const textPrefix = isMorningDrive ? '× ×¡×™×¢×ª ×‘×•×§×¨:' : '';

                    driveTimeHtml = `
                        <div class="flex justify-end items-center relative h-8 -my-3 pr-[41px] z-0">
                             <div class="${pillClass} border text-[10px] font-bold px-3 py-1 rounded-full shadow-sm flex items-center gap-1.5 z-0 relative">
                                <i data-lucide="${icon}" class="w-3 h-3 opacity-70"></i> 
                                ${textPrefix} ${timeStr}
                             </div>
                        </div>
                    `;
                }

                // Update coordinates for next iteration
                lastCoords = stop.coords;
                
                // --- MEDIA & CONTENT PREP ---
                const showGas = index < ITINERARY.length - 1 && ITINERARY[index+1].type !== 'divider' && GAS_STATIONS[stop.id];

                let mediaHtml = stop.isEmoji 
                    ? `<div class="w-full h-full bg-gradient-to-br ${stop.bgGradient} flex items-center justify-center text-6xl drop-shadow-sm select-none">${stop.emoji}</div>`
                    : `<img src="${stop.image}" class="w-full h-full object-cover select-none transition duration-700 group-hover:scale-105">`;

                // --- RENDER ITEM ---
                const animationDelay = index * 0.1; // Staggered animation

                container.innerHTML += `
                    <div id="stop-item-${index}" class="relative mb-6 animate-card" style="animation-delay: ${animationDelay}s">
                        
                        ${driveTimeHtml}

                        <!-- The Card Row -->
                        <div class="flex items-stretch gap-4 mt-6">
                            
                            <!-- Timeline Track Column -->
                            <div class="timeline-dot-container shrink-0 pt-8">
                                <div id="dot-${index}" class="timeline-dot relative z-10 flex items-center justify-center"></div>
                                
                                <!-- Car Marker (Hidden by default) -->
                                <div id="car-${index}" class="car-marker" style="top: 0%;">
                                    <div class="car-inner"><i data-lucide="car" class="w-4 h-4 text-white fill-current"></i></div>
                                </div>
                            </div>

                            <!-- Card Content -->
                            <div id="card-${index}" onclick="openModal(${index})" class="grow bg-white rounded-2xl shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] border border-slate-100 overflow-hidden cursor-pointer btn-active group relative z-10">
                                
                                <div class="h-32 w-full relative bg-slate-100 overflow-hidden">
                                    ${mediaHtml}
                                    <div class="absolute inset-0 bg-gradient-to-t from-slate-900/80 via-transparent to-transparent"></div>
                                    <div class="absolute top-2.5 left-2.5 bg-white/90 backdrop-blur-md p-1.5 rounded-lg shadow-sm text-slate-700">
                                        <i data-lucide="${stop.icon}" class="w-3.5 h-3.5"></i>
                                    </div>
                                    <div class="absolute bottom-2.5 right-3 text-white">
                                        <div class="text-lg font-bold leading-none tracking-tight">${stop.title}</div>
                                        <div class="text-xs opacity-90 font-medium mt-1 tracking-wide text-slate-200">${stop.subTitle}</div>
                                    </div>
                                </div>

                                <div class="p-3.5 flex justify-between items-center bg-white relative">
                                    <div class="flex items-center gap-1.5 bg-slate-50 px-2.5 py-1 rounded-md border border-slate-100">
                                        <i data-lucide="clock" class="w-3 h-3 text-slate-400"></i>
                                        <span id="time-${index}" class="text-xs font-bold text-slate-600 font-mono tracking-tight">${stop.displayTime}</span>
                                    </div>
                                    
                                    <div id="eta-${index}" class="hidden flex items-center gap-1 text-[10px] font-bold text-emerald-700 bg-emerald-50 px-2 py-1 rounded-full border border-emerald-100 animate-pulse">
                                        <i data-lucide="timer" class="w-3 h-3"></i> <span id="eta-text-${index}"></span>
                                    </div>
                                    
                                    <div class="text-slate-300">
                                        <i data-lucide="chevron-left" class="w-4 h-4"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Gas Alert (Optional) -->
                        ${showGas ? `
                        <div class="mr-[50px] mt-3 relative z-10">
                            <button onclick="openGasModal('${stop.id}')" class="w-full bg-orange-50/80 border border-orange-100/60 rounded-xl p-2.5 flex items-center gap-3 active:scale-95 transition-transform">
                                <div class="bg-orange-100 text-orange-500 p-1.5 rounded-lg shadow-sm"><i data-lucide="fuel" class="w-3.5 h-3.5"></i></div>
                                <div class="text-right grow">
                                    <div class="text-xs font-bold text-slate-700">×ª×“×œ×•×§ ××•××œ×¥ ×‘×”××©×š</div>
                                    <div class="text-[10px] text-slate-400">×œ×—×¥ ×œ×”×©×•×•××ª ××—×™×¨×™×</div>
                                </div>
                                <i data-lucide="chevron-left" class="w-3 h-3 text-orange-300"></i>
                            </button>
                        </div>` : ''}
                    </div>
                `;
            });
            lucide.createIcons();
        }

        // --- TRACKING & MODALS ---

        function handleMainButton() {
            const btn = document.getElementById('actionBtn');
            const btnText = document.getElementById('btnText');
            const statusMsg = document.getElementById('statusMsg');

            if (!isTracking) {
                if (navigator.geolocation) {
                    btnText.innerText = "×××ª×¨...";
                    statusMsg.classList.remove('hidden');
                    
                    navigator.geolocation.watchPosition(
                        (position) => {
                            isTracking = true;
                            userLocation = { lat: position.coords.latitude, lng: position.coords.longitude };
                            
                            btn.classList.remove('bg-slate-900');
                            btn.classList.add('bg-blue-600', 'shadow-blue-200', 'border-blue-500');
                            btnText.innerText = "× ×•×•×˜ ××œ×™×™";
                            statusMsg.classList.add('hidden');
                            document.getElementById('liveIndicator').classList.remove('hidden');

                            updateLiveLogic();
                        },
                        (err) => {
                            alert("×•×“× ×©×”-GPS ×“×œ×•×§ ×•× ×¡×” ×©×•×‘.");
                            btnText.innerText = "×”×¤×¢×œ GPS";
                            statusMsg.classList.add('hidden');
                        },
                        { enableHighAccuracy: true, maximumAge: 10000, timeout: 5000 }
                    );
                }
            } else {
                scrollToActive();
            }
        }

        function updateLiveLogic() {
            if (!userLocation) return;
            const { lat, lng } = userLocation;
            const now = new Date();
            let activeSegmentIndex = -1;
            let segmentProgress = 0;

            ITINERARY.forEach((stop, idx) => {
                if (stop.type === 'divider') return;

                const dist = getDistance(lat, lng, stop.coords.lat, stop.coords.lng);
                const speed = (stop.id === 'mcway' || stop.id === 'bixby') ? 50 : 75;
                const minutes = Math.round((dist * 1.3 / speed) * 60); 
                
                const timeEl = document.getElementById(`time-${idx}`);
                const etaEl = document.getElementById(`eta-${idx}`);
                const etaTextEl = document.getElementById(`eta-text-${idx}`);
                const dot = document.getElementById(`dot-${idx}`);
                const card = document.getElementById(`card-${idx}`);

                if (lat > stop.coords.lat + 0.02) { 
                    // Passed this point
                    timeEl.innerText = stop.originalTime;
                    etaEl.classList.add('hidden');
                    dot.classList.add('active');
                    card.classList.remove('ring-2', 'ring-blue-400');
                } else { 
                    // Not passed yet
                    dot.classList.remove('active');
                    if (minutes > 0 && minutes < 600) {
                        const arrival = new Date(now.getTime() + minutes * 60000);
                        timeEl.innerText = `${String(arrival.getHours()).padStart(2,'0')}:${String(arrival.getMinutes()).padStart(2,'0')}`;
                        etaEl.classList.remove('hidden');
                        etaTextEl.innerText = `×¢×•×“ ${Math.floor(minutes/60)}:${String(minutes%60).padStart(2,'0')}`;
                    }
                }
            });

            // Find current segment for car animation
            const stops = ITINERARY.filter(s => s.type !== 'divider');
            for (let i = 0; i < stops.length - 1; i++) {
                const current = stops[i];
                const next = stops[i+1];
                
                // Simple latitude check (works for North to South routes generally)
                if (lat <= current.coords.lat && lat >= next.coords.lat) {
                    activeSegmentIndex = ITINERARY.findIndex(s => s.id === current.id);
                    
                    const totalDist = Math.abs(current.coords.lat - next.coords.lat);
                    const covered = Math.abs(current.coords.lat - lat);
                    segmentProgress = totalDist > 0 ? covered / totalDist : 0;
                    break;
                }
            }

            document.querySelectorAll('.car-marker').forEach(el => el.style.opacity = '0');
            
            if (activeSegmentIndex !== -1) {
                const activeCar = document.getElementById(`car-${activeSegmentIndex}`);
                const activeCard = document.getElementById(`card-${activeSegmentIndex}`);
                
                // Only show car if next item isn't a divider (complex logic simplified)
                if (activeCar) {
                    activeCar.style.opacity = '1';
                    // We map progress 0-1 to top 0% to 100% of the segment height (roughly)
                    // Since height varies, this is a visual approximation that looks good
                    const pixelOffset = segmentProgress * 120; // Approx px height between stops
                    activeCar.style.top = `${Math.min(pixelOffset, 100)}%`; 
                }
                
                if (activeCard) {
                     activeCard.classList.add('ring-2', 'ring-blue-400', 'ring-offset-2');
                }
                window.currentActiveIndex = activeSegmentIndex;
            }
        }

        function scrollToActive() {
            if (window.currentActiveIndex !== undefined) {
                document.getElementById(`stop-item-${window.currentActiveIndex}`).scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        function openModal(idx) {
            const stop = ITINERARY[idx];
            const content = document.getElementById('modalContent');
            const modal = document.getElementById('mainModal');
            
            let mediaHtml = stop.isEmoji 
                ? `<div class="w-full h-full bg-gradient-to-br ${stop.bgGradient} flex items-center justify-center text-8xl">${stop.emoji}</div>`
                : `<img src="${stop.image}" class="w-full h-full object-cover">`;

            const navButtons = `
                <div class="grid grid-cols-2 gap-3 mb-3">
                    <div class="col-span-2 text-[10px] text-slate-400 uppercase tracking-widest font-bold text-center">× ×™×•×•×˜ ×œ×™×¢×“</div>
                    <button onclick="nav('${stop.coords.lat},${stop.coords.lng}', 'waze')" class="bg-blue-600 text-white py-3.5 rounded-2xl text-sm font-bold shadow-lg shadow-blue-200 btn-active flex justify-center items-center gap-2 transition hover:bg-blue-700">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/6/67/Waze_2020.svg" class="w-4 h-4 brightness-0 invert"> Waze ×™×¢×“
                    </button>
                    <button onclick="nav('${stop.coords.lat},${stop.coords.lng}', 'google')" class="bg-white text-slate-700 border border-slate-200 py-3.5 rounded-2xl text-sm font-bold shadow-sm btn-active flex justify-center items-center gap-2 transition hover:bg-slate-50">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/a/aa/Google_Maps_icon_%282020%29.svg" class="w-4 h-4"> Google
                    </button>
                </div>

                ${stop.parking ? `
                <div class="grid grid-cols-2 gap-3">
                    <div class="col-span-2 text-[10px] text-slate-400 uppercase tracking-widest font-bold text-center mt-2">× ×™×•×•×˜ ×œ×—× ×™×”</div>
                    <button onclick="nav('${stop.parking.coords.lat},${stop.parking.coords.lng}', 'waze')" class="bg-slate-800 text-white py-3 rounded-2xl text-sm font-bold shadow-md btn-active flex justify-center items-center gap-2 transition hover:bg-slate-900">
                        <span class="bg-white/20 px-1.5 rounded text-[10px]">P</span> Waze
                    </button>
                    <button onclick="nav('${stop.parking.coords.lat},${stop.parking.coords.lng}', 'google')" class="bg-slate-100 text-slate-700 border border-slate-200 py-3 rounded-2xl text-sm font-bold shadow-sm btn-active flex justify-center items-center gap-2 transition hover:bg-slate-200">
                        <span class="bg-slate-300 px-1.5 rounded text-[10px] text-slate-700">P</span> Google
                    </button>
                </div>` : ''}
            `;

            content.innerHTML = `
                <div class="relative h-64 shrink-0">
                    ${mediaHtml}
                    <button onclick="closeModal()" class="absolute top-4 left-4 bg-black/20 backdrop-blur-md text-white p-2.5 rounded-full border border-white/20 btn-active hover:bg-black/30 transition z-50"><i data-lucide="x" class="w-5 h-5"></i></button>
                    <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-slate-900/90 via-slate-900/50 to-transparent p-6 pt-24">
                        <h2 class="text-white text-3xl font-black leading-tight tracking-tight">${stop.title}</h2>
                        <div class="flex items-center gap-3 mt-2.5">
                            <span class="bg-white/20 text-white px-2.5 py-0.5 rounded-lg text-xs backdrop-blur font-bold font-mono border border-white/10">${stop.displayTime}</span>
                            <span class="text-white/90 text-sm font-medium border-r border-white/30 pr-3 mr-1">${stop.subTitle}</span>
                        </div>
                    </div>
                </div>
                
                <div class="p-6 grow flex flex-col bg-white">
                    <div class="text-sm text-slate-600 leading-relaxed mb-6">
                        ${stop.longDesc}
                    </div>
                    
                    ${stop.parking ? `
                    <div class="bg-slate-50 border border-slate-100 p-4 rounded-2xl shadow-sm flex gap-4 mb-6">
                        <div class="w-12 h-12 bg-blue-100 text-blue-600 rounded-2xl flex items-center justify-center font-bold text-xl shrink-0"><i data-lucide="square-parking" class="w-6 h-6"></i></div>
                        <div>
                            <div class="font-bold text-sm text-slate-800">${stop.parking.name}</div>
                            <div class="text-xs text-slate-500 mt-0.5">${stop.parking.address}</div>
                            <div class="text-[10px] font-bold text-emerald-600 bg-emerald-50 inline-block px-2 py-0.5 rounded-md mt-1.5 border border-emerald-100">${stop.parking.cost}</div>
                        </div>
                    </div>` : ''}

                    ${stop.walkingRoute ? `
                    <button onclick="window.open('${stop.walkingRoute}', '_blank')" class="w-full mb-6 bg-teal-50 text-teal-700 border border-teal-200 py-3.5 rounded-2xl text-sm font-bold flex justify-center items-center gap-2 btn-active shadow-sm transition hover:bg-teal-100">
                        <i data-lucide="footprints" class="w-4 h-4"></i> ××¡×œ×•×œ ×”×œ×™×›×” ××•××œ×¥ (Google)
                    </button>` : ''}

                    <div class="mt-auto pt-4 border-t border-slate-100">
                        ${navButtons}
                    </div>
                </div>
            `;
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            lucide.createIcons();
        }

        function openGasModal(id) {
            const list = document.getElementById('gasModalContent');
            const data = GAS_STATIONS[id];
            list.innerHTML = '';
            
            if (data) {
                data.forEach(st => {
                    list.innerHTML += `
                        <div class="bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex flex-col gap-3">
                            <div class="flex justify-between items-start">
                                <div>
                                    <div class="font-black text-slate-800 text-lg">${st.name}</div>
                                    <div class="text-xs text-slate-400 mt-0.5">${st.address}</div>
                                </div>
                                <div class="font-black px-2.5 py-1 rounded-lg ${st.price.includes('$7') || st.price.includes('---') ?'bg-red-50 text-red-600':'bg-emerald-50 text-emerald-600'}">${st.price}</div>
                            </div>
                            ${st.note ? `<div class="text-[11px] bg-orange-50 text-orange-700 px-2 py-1 rounded-md border border-orange-100 font-bold self-start flex items-center gap-1"><i data-lucide="info" class="w-3 h-3"></i> ${st.note}</div>` : ''}
                            ${st.price !== '---' ? `
                            <button onclick="nav('${st.address}', 'waze')" class="w-full bg-slate-800 text-white py-2.5 rounded-xl text-xs font-bold flex justify-center items-center gap-2 btn-active shadow-md shadow-slate-200 mt-1 hover:bg-slate-900 transition">
                                <i data-lucide="navigation" class="w-3 h-3"></i> × ×•×•×˜ ×œ×ª×—× ×”
                            </button>` : ''}
                        </div>`;
                });
            } else {
                list.innerHTML = `<div class="text-center text-slate-400 py-10">××™×Ÿ ××™×“×¢ ×œ××§×˜×¢ ×–×”</div>`;
            }
            document.getElementById('gasModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            lucide.createIcons();
        }

        function closeModal() { document.getElementById('mainModal').classList.add('hidden'); document.body.style.overflow = ''; }
        function closeGasModal() { document.getElementById('gasModal').classList.add('hidden'); document.body.style.overflow = ''; }

        function nav(dest, app) {
            let url = app === 'waze' 
                ? `https://www.waze.com/ul?q=${encodeURIComponent(dest)}&navigate=yes`
                : `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(dest)}`;
            window.open(url, '_blank');
        }

        // Init
        setTimeout(initItinerary, 100);

    </script>
</body>
</html>

